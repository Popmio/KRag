# AI模型配置文件
models:
  # 嵌入模型配置
  embedding:
    # 本地模型（使用魔塔社区）
    local:
      default: "Qwen/Qwen3-Embedding-0.6B"
      # 模型来源优先级：huggingface > modelscope
      source_priority: ["modelscope", "huggingface"]
      models:
        - name: "Qwen/Qwen3-Embedding-8B-GGUF"
          dimension: 768
          max_length: 512
          description: "中文句子嵌入模型"
          source: "modelscope"
          cache_dir: "models/cache"

        - name: "Qwen/Qwen3-Embedding-8B"
          dimension: 1024
          max_length: 8192
          description: "Qwen3嵌入模型 - HuggingFace格式"
          source: "huggingface"
          cache_dir: "models/cache"

        - name: "Qwen/Qwen3-Embedding-8B"
          dimension: 1024
          max_length: 8192
          description: "Qwen3嵌入模型 - ModelScope格式"
          source: "modelscope"
          cache_dir: "models/cache"

        - name: "Qwen/Qwen3-Embedding-0.6B"
          dimension: 1024
          max_length: 8192
          description: "Qwen3嵌入模型 - ModelScope格式"
          source: "modelscope"
          cache_dir: "models/cache"

        - name: "Qwen/Qwen3-Embedding-0.6B-GGUF"
          dimension: 1024
          max_length: 8192
          description: "Qwen3嵌入模型 - ModelScope格式"
          source: "modelscope"
          cache_dir: "models/cache"

        - name: "onnx-community/Qwen3-Embedding-0.6B-ONNX"
          dimension: 1024
          max_length: 8192
          description: "Qwen3嵌入模型 - huggingface格式"
          source: "huggingface"
          cache_dir: "models/cache"
          
    # API模型
    api:
      providers:
        openai:
          base_url: "https://api.openai.com/v1"
          api_key: "your-openai-api-key-here"  # 在这里配置OpenAI API密钥
          models:
            - name: ""
              dimension: 1536
              max_tokens: 8191
              provider: "openai"  # 明确指定提供商

              
        cohere:
          base_url: "https://api.cohere.ai/v1"
          api_key: "your-cohere-api-key-here"  # 在这里配置Cohere API密钥
          models:
            - name: ""
              dimension: 1024
              max_tokens: 512
              provider: "cohere"  # 明确指定提供商

              
        qwen:
          base_url: "https://dashscope.aliyuncs.com/compatible-mode/v1"
          api_key: "sk-3caf28ae9b084173b8f48dce107645d7"  # 在这里配置通义千问API密钥
          models:
            - name: "text-embedding-v4"
              dimension: 1536
              max_tokens: 2048
              provider: "qwen"  # 明确指定提供商

  # 重排序模型配置
  reranker:
    # 本地模型
    local:
      default: "dengcao/Qwen3-Reranker-0.6B"
      models:
        - name: "dengcao/Qwen3-Reranker-0.6B"
          max_length: 512
          description: "中文重排序模型"
          source: "modelscope"

          
    # API模型
    api:
      providers:
        qwen:
          base_url: "https://dashscope.aliyuncs.com/compatible-mode/v1"
          api_key: "sk-3caf28ae9b084173b8f48dce107645d7"  # 在这里配置通义千问API密钥
          models:
            - name: "qwen3-rerank"
              max_documents: 1000


  # 大语言模型配置
  llm:
    # 本地模型（使用魔塔社区）
    local:
      default: "Qwen/Qwen2.5-0.5B-Instruct"
      models:
        - name: "Qwen/Qwen2.5-0.5B-Instruct"
          max_length: 2048
          description: "通义千问2.5-0.5B指令模型"
          source: "modelscope"
          

          
    # API模型
    api:
      providers:
        openai:
          base_url: "https://api.openai.com/v1"
          api_key: "your-openai-api-key-here"  # 在这里配置OpenAI API密钥
          models:
            - name: ""
              max_tokens: 4096
              temperature: 0.7
              
            - name: "gpt-4"
              max_tokens: 8192
              temperature: 0.7
              
        anthropic:
          base_url: "https://api.anthropic.com/v1"
          api_key: "your-anthropic-api-key-here"  # 在这里配置Anthropic API密钥
          models:
            - name: ""
              max_tokens: 4096
              temperature: 0.7

        qwen:
          base_url: "https://dashscope.aliyuncs.com/compatible-mode/v1"
          api_key: "sk-3caf28ae9b084173b8f48dce107645d7"  # 在这里配置通义千问API密钥
          models:
            - name: "qwen3-max"
              max_tokens: 2000
              temperature: 0.7

            - name: "qwen-plus"
              max_tokens: 2000
              temperature: 0.7

# 模型加载配置
loading:
  # 缓存配置
  cache:
    enabled: true
    cache_dir: "models/cache"
    max_size: "40GB"
    
  # 预加载配置
  preload:
    enabled: true
    models:
      - "Qwen/Qwen2.5-0.5B-Instruct"
      - "Qwen/Qwen3-Embedding-0.6B"
      
  # 设备配置
  device:
    preferred: "cuda"  # auto, cpu, cuda, mps
    fallback_to_cpu: true
    
  # 内存配置
  memory:
    max_memory_usage: "10GB"
    offload_to_cpu: true
    
  # 模型下载配置
  download:
    auto_download: true
    download_timeout: 3600  # 1小时
    resume_download: true
    mirror_sites:
      - "https://www.modelscope.cn"